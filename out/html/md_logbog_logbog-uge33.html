<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tello: Logbog, uge 33</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tello
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Genereret af Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Søg');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Søg');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Logbog, uge 33 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>I denne uge startede vi på et nyt projekt, som omhandler kommunikation med droner igennem UDP(User Datagram Protocol).</p>
<p>Grunden til at UDP blev brugt som netværksprotokol i stedet for TCP, er fordi at UDP er hurtigere og simplere, da der ikke skal tjekkes om hver pakke blev modtaget, i stedet kan man bare holde øje med om dronen svare fx. ok. Kommunikationen til og fra dronen foregår med simple ascii encoded strenge, som dronen lytter efter på port 8889, og ens program er derefter lytte på port 8890 efter en godkendelse eller hvis man har spurgt efter telemitri kan den også svare tilbage der.</p>
<p>Dronen har også et kamera, som der også kan fås adgang til efter man har sendt den rigtige kommando. Kommunikation til og fra kameraet foregår igennem UDP hvor dataen er i H264 encoded video billeder.</p>
<p>Disse billeder kan bl.a. afkodes igennem OpenCV, hvor man kan gemme de rå pixelværdier i datastrukturen <code>cv::Mat</code>. Selve <code>cv::Mat</code> klassen er bare et 3d array, som gemmer pixelværdierne, dog så er der defineret nogle operatorer for klassen, som gør det nemt at få dataen ind fra cv::VideoCapture. Desuden så er klassen også integreret ind i cv::imshow, som gør det nemt at vise billederne.</p>
<p>Jeg startede ud med at få programmeringsmiljøet op og køre, samt at få den mest elementale kommunikation til at virke. Der var nogle problemer i forhold til at få sat de rigtige porte i koden, og muligvis har enhedernes firewalls, hvilket betød at det tog noget tid for at få det op og køre.</p>
<p>Da jeg var overbevist om at jeg havde fået kommunikationen på plads startede jeg med at skrive en plan op for den overordnede samlede struktur for det færdige program. Dette program er vises, som et grafisk vindue, ved brug af ImGui og SFML + <a class="el" href="namespace_im_term.html">ImTerm</a>. Heri kan jeg både simulere en terminal(med autocomplete), samt vise video, telemitri og forskellige indstillinger i et vindue. Da terminalen var op og køre, så ville jeg gerne integrere den med UDP. Derfor gik jeg igang med en UDP server, som bliver kørt på en seperat tråd, så jeg kan fortsætte med at vise gui'en. Denne UDP server har en queue så man kan håndtere requests der kommer lige efter hinanden. Der er lagt op til at en request kan have en timeout. Indtil videre er der implemeteret en funktion i terminalen så jeg kan sende enhver string over udp, samt en quit, echo og clear kommando. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Genereret Ons Sep 16 2020 21:18:43 for Tello af&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
